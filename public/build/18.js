webpackJsonp([18],{281:function(l,n,u){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var t=u(0),i=(u(2),u(13),u(29)),a=u(26),o=u(25),e=u(112),s=function(){function l(l,n,u,t,i,a,o,e,s,r,c){var _=this;switch(this.navCtrl=l,this.navParams=n,this.api=u,this.menu=t,this.events=i,this.utils=a,this.loadingCtrl=o,this.alertCtrl=e,this.plat=s,this.storage=r,this.popoverCtrl=c,this.plt=s,this.utils.popularFavorito(),this.storage.get("Logged").then(function(l){_.logged=null!=l&&l}),this.loading=this.loadingCtrl.create({content:"Carregando"}),this.loading.present(),this.navParams.get("tipo")){case this.utils.AUDIOVISUAL:this.tipo=this.utils.AUDIOVISUAL,null!=this.navParams.get("categoria")?this.atualizarListDocsAudiovisual(this.navParams.get("categoria")):this.atualizarListDocsAudiovisual();break;case this.utils.CAMPUSJOURNAL:this.tipo=this.utils.CAMPUSJOURNAL,this.atualizarListDocsCampusJournal()}i.subscribe("function:sortBooks",function(l){_.sortBooks(l)})}return l.prototype.atualizarListDocsCampusJournal=function(){var l=this;this.api.getDocsCampusjournal().subscribe(function(n){l.docsCache=n,l.docs=n,l.sortBooks(i.a.SORT_TYPE),l.loading.dismiss()})},l.prototype.atualizarListDocsAudiovisual=function(l){var n=this;void 0===l&&(l=null),this.api.getFormatedDocsAudiovisual(l).subscribe(function(l){n.docsCache=l,n.docs=l,n.sortBooks(i.a.SORT_TYPE),n.loading.dismiss()})},l.prototype.ionViewWillEnter=function(){this.menu.enable(!1,"bookMenu"),this.menu.enable(!1,"homeMenu")},l.prototype.abrirDetalhesDoc=function(l,n){this.navCtrl.push("DocDetailsPage",{item:l,tipo:n})},l.prototype.filtrarEntidades=function(l){var n=this;this.docs=this.docsCache.slice();var u=this.utils.removerAcentos(l.target.value).toLowerCase().replace(/\s/g,"");if(u&&""!=u.trim()){if(this.tipo==this.utils.CAMPUSJOURNAL)this.docs=this.docs.filter(function(l){return n.utils.removerAcentos(l.title.concat(l.description).concat(l.author).concat(l.source).toLowerCase()).indexOf(u)>-1});else if(this.tipo==this.utils.AUDIOVISUAL){var t=[],i=void 0;for(var a in this.docs){t.push(this.docs[a]),i=[];for(var o=0,e=t[a].docs;o<e.length;o++){var s=e[o],r=this.utils.removerAcentos(s.title.concat(s.source).concat(s.sender).toLowerCase()).replace(/\s/g,"");console.log("RESULT > "+(r.indexOf(u)>-1)),r.indexOf(u)>-1&&i.push(s)}t[a].docs=i}this.docs=t}}else switch(this.navParams.get("tipo")){case this.utils.AUDIOVISUAL:this.tipo=this.utils.AUDIOVISUAL,null!=this.navParams.get("categoria")?this.atualizarListDocsAudiovisual(this.navParams.get("categoria")):this.atualizarListDocsAudiovisual();break;case this.utils.CAMPUSJOURNAL:this.tipo=this.utils.CAMPUSJOURNAL,this.atualizarListDocsCampusJournal()}},l.prototype.sortBooks=function(l){switch(l){case"NOME":this.docs.sort(function(l,n){return l.c_nome<n.c_nome?-1:1});break;case"AUTOR":this.docs.sort(function(l,n){return l.c_autor<n.c_nome?-1:1});break;case"DATA_PUBLI":this.docs.sort(function(l,n){return l.d_publi<n.d_publi?-1:1});break;case"DATA_POST":this.docs.sort(function(l,n){return l.n_datapost-n.n_datapost});break;case"DISP_DOWNLOAD":this.docs.sort(function(l,n){return l.c_dispebook==n.c_dispebook?-1:1});break;case"DISP_BIBLIOTECA":this.docs.sort(function(l,n){return l.c_displocal==n.c_displocal?-1:1})}},l.prototype.voltar=function(){this.navCtrl.pop()},l.prototype.formatText=function(l,n){return n>=l.length?l:l.substring(0,n)+"..."},l.prototype.presentRadioPopover=function(l){this.popoverCtrl.create(e.a).present({ev:l})},l}(),r=function(){return function(){}}(),c=u(216),_=u(217),h=u(218),d=u(219),p=u(220),m=u(221),f=u(222),g=u(223),b=u(224),v=u(225),I=u(74),A=u(1),U=u(32),Y=u(30),k=u(49),L=u(14),C=u(12),z=u(31),D=u(37),O=u(21),Z=u(57),j=u(28),P=u(16),x=u(11),S=u(154),F=u(66),y=u(33),R=u(4),$=u(65),w=u(8),M=u(6),B=u(58),J=u(47),N=u(18),T=u(7),V=u(22),E=u(5),W=u(17),H=u(226),X=u(76),q=u(15),G=u(10),K=u(23),Q=u(38),ll=u(48),nl=u(75),ul=u(109),tl=t.X({encapsulation:2,styles:[],data:{}});function il(l){return t._19(0,[(l()(),t.Z(0,0,null,null,1,"ion-title",[["class","ion-title-ios"]],null,null,null,v.b,v.a)),t.Y(1,49152,null,0,I.a,[A.a,t.j,t.z,[2,U.a],[2,Y.a]],null,null)],null,null)}function al(l){return t._19(0,[(l()(),t.Z(0,0,null,null,1,"ion-title",[],null,null,null,v.b,v.a)),t.Y(1,49152,null,0,I.a,[A.a,t.j,t.z,[2,U.a],[2,Y.a]],null,null)],null,null)}function ol(l){return t._19(0,[(l()(),t.Z(0,0,null,null,22,"ion-item",[["class","item item-block"]],null,[[null,"click"]],function(l,n,u){var t=!0,i=l.component;"click"===n&&(t=!1!==i.abrirDetalhesDoc(l.parent.context.$implicit,i.utils.CAMPUSJOURNAL)&&t);return t},k.b,k.a)),t.Y(1,1097728,[[4,4]],3,L.a,[C.a,A.a,t.j,t.z,[2,z.a]],null,null),t._16(335544320,6,{contentLabel:0}),t._16(603979776,7,{_buttons:1}),t._16(603979776,8,{_icons:1}),t.Y(5,16384,null,0,D.a,[],null,null),(l()(),t._18(-1,2,["\n          "])),(l()(),t.Z(7,0,null,0,1,"ion-icon",[["item-start",""],["large",""],["name","archive"],["role","img"]],[[2,"hide",null]],null,null,null,null)),t.Y(8,147456,[[8,4]],0,O.a,[A.a,t.j,t.z],{name:[0,"name"]},null),(l()(),t._18(-1,2,["\n          "])),(l()(),t.Z(10,0,null,2,1,"h2",[],null,null,null,null,null)),(l()(),t._18(11,null,["",""])),(l()(),t._18(-1,2,["\n          "])),(l()(),t.Z(13,0,null,2,1,"p",[],null,null,null,null,null)),(l()(),t._18(14,null,["",""])),(l()(),t._18(-1,2,["\n          "])),(l()(),t.Z(16,0,null,2,1,"p",[],null,null,null,null,null)),(l()(),t._18(17,null,["",""])),(l()(),t._18(-1,2,["\n          "])),(l()(),t.Z(19,0,null,2,2,"ion-note",[],null,null,null,null,null)),t.Y(20,16384,null,0,Z.a,[A.a,t.j,t.z],null,null),(l()(),t._18(21,null,["",""])),(l()(),t._18(-1,2,["\n        "]))],function(l,n){l(n,8,0,"archive")},function(l,n){l(n,7,0,t._13(n,8)._hidden),l(n,11,0,n.parent.context.$implicit.title),l(n,14,0,n.parent.context.$implicit.description),l(n,17,0,n.parent.context.$implicit.author),l(n,21,0,n.parent.context.$implicit.source)})}function el(l){return t._19(0,[(l()(),t.Z(0,0,null,null,19,"ion-item",[["class","item item-block"]],null,[[null,"click"]],function(l,n,u){var t=!0,i=l.component;"click"===n&&(t=!1!==i.abrirDetalhesDoc(l.parent.context.$implicit,i.utils.AUDIOVISUAL)&&t);return t},k.b,k.a)),t.Y(1,1097728,[[4,4]],3,L.a,[C.a,A.a,t.j,t.z,[2,z.a]],null,null),t._16(335544320,9,{contentLabel:0}),t._16(603979776,10,{_buttons:1}),t._16(603979776,11,{_icons:1}),t.Y(5,16384,null,0,D.a,[],null,null),(l()(),t._18(-1,2,["\n          "])),(l()(),t.Z(7,0,null,0,1,"ion-icon",[["item-start",""],["large",""],["name","albums"],["role","img"]],[[2,"hide",null]],null,null,null,null)),t.Y(8,147456,[[11,4]],0,O.a,[A.a,t.j,t.z],{name:[0,"name"]},null),(l()(),t._18(-1,2,["\n          "])),(l()(),t.Z(10,0,null,2,1,"h2",[],null,null,null,null,null)),(l()(),t._18(11,null,["",""])),(l()(),t._18(-1,2,["\n          "])),(l()(),t.Z(13,0,null,2,1,"p",[],null,null,null,null,null)),(l()(),t._18(14,null,["",""])),(l()(),t._18(-1,2,["\n          "])),(l()(),t.Z(16,0,null,2,2,"ion-note",[],null,null,null,null,null)),t.Y(17,16384,null,0,Z.a,[A.a,t.j,t.z],null,null),(l()(),t._18(18,null,["",""])),(l()(),t._18(-1,2,["\n        "]))],function(l,n){l(n,8,0,"albums")},function(l,n){l(n,7,0,t._13(n,8)._hidden),l(n,11,0,n.parent.context.$implicit.title),l(n,14,0,n.parent.context.$implicit.sender),l(n,18,0,n.parent.context.$implicit.source)})}function sl(l){return t._19(0,[(l()(),t.Z(0,0,null,null,5,"button",[["color","primary"],["ion-button",""]],null,null,null,j.b,j.a)),t.Y(1,1097728,null,0,P.a,[[8,""],A.a,t.j,t.z],{color:[0,"color"]},null),(l()(),t._18(-1,0,["\n            "])),(l()(),t.Z(3,0,null,0,1,"ion-icon",[["name","thumbs-up"],["role","img"]],[[2,"hide",null]],null,null,null,null)),t.Y(4,147456,null,0,O.a,[A.a,t.j,t.z],{name:[0,"name"]},null),(l()(),t._18(-1,0,["\n            Curtir\n          "]))],function(l,n){l(n,1,0,"primary");l(n,4,0,"thumbs-up")},function(l,n){l(n,3,0,t._13(n,4)._hidden)})}function rl(l){return t._19(0,[(l()(),t.Z(0,0,null,null,1,"ion-icon",[["name","ios-star-outline"],["role","img"]],[[2,"hide",null]],null,null,null,null)),t.Y(1,147456,null,0,O.a,[A.a,t.j,t.z],{name:[0,"name"]},null)],function(l,n){l(n,1,0,"ios-star-outline")},function(l,n){l(n,0,0,t._13(n,1)._hidden)})}function cl(l){return t._19(0,[(l()(),t.Z(0,0,null,null,1,"ion-icon",[["name","ios-star"],["role","img"]],[[2,"hide",null]],null,null,null,null)),t.Y(1,147456,null,0,O.a,[A.a,t.j,t.z],{name:[0,"name"]},null)],function(l,n){l(n,1,0,"ios-star")},function(l,n){l(n,0,0,t._13(n,1)._hidden)})}function _l(l){return t._19(0,[(l()(),t.Z(0,0,null,null,8,"button",[["color","secondary"],["ion-button",""]],null,[[null,"click"]],function(l,n,u){var t=!0;"click"===n&&(t=!1!==l.component.utils.toggleFavorito(l.parent.context.$implicit.audiovisual_id)&&t);return t},j.b,j.a)),t.Y(1,1097728,null,0,P.a,[[8,""],A.a,t.j,t.z],{color:[0,"color"]},null),(l()(),t._18(-1,0,["\n            "])),(l()(),t.U(16777216,null,0,1,null,rl)),t.Y(4,16384,null,0,x.i,[t.I,t.F],{ngIf:[0,"ngIf"]},null),(l()(),t._18(-1,0,["\n            "])),(l()(),t.U(16777216,null,0,1,null,cl)),t.Y(7,16384,null,0,x.i,[t.I,t.F],{ngIf:[0,"ngIf"]},null),(l()(),t._18(-1,0,["\n            Favoritar\n          "]))],function(l,n){var u=n.component;l(n,1,0,"secondary"),l(n,4,0,null!=u.utils.favoritesCache&&-1==u.utils.favoritesCache.indexOf(n.parent.context.$implicit.audiovisual_id)),l(n,7,0,null!=u.utils.favoritesCache&&-1!=u.utils.favoritesCache.indexOf(n.parent.context.$implicit.audiovisual_id))},null)}function hl(l){return t._19(0,[(l()(),t.Z(0,0,null,null,27,"ion-item-sliding",[],null,null,null,S.b,S.a)),t.Y(1,49152,null,2,F.a,[[2,y.a],R.a,t.z,t.j,t.u],null,null),t._16(603979776,4,{item:0}),t._16(603979776,5,{_itemOptions:1}),(l()(),t._18(-1,null,["\n        "])),(l()(),t.U(16777216,null,0,1,null,ol)),t.Y(6,16384,null,0,x.i,[t.I,t.F],{ngIf:[0,"ngIf"]},null),(l()(),t._18(-1,null,["\n\n        "])),(l()(),t.U(16777216,null,0,1,null,el)),t.Y(9,16384,null,0,x.i,[t.I,t.F],{ngIf:[0,"ngIf"]},null),(l()(),t._18(-1,null,["\n        "])),(l()(),t.Z(11,0,null,1,15,"ion-item-options",[["side","right"]],null,null,null,null,null)),t.Y(12,16384,[[5,4]],0,$.a,[t.j,R.a],{side:[0,"side"]},null),(l()(),t._18(-1,null,["\n\n          "])),(l()(),t.U(16777216,null,null,1,null,sl)),t.Y(15,16384,null,0,x.i,[t.I,t.F],{ngIf:[0,"ngIf"]},null),(l()(),t._18(-1,null,["\n\n          "])),(l()(),t.U(16777216,null,null,1,null,_l)),t.Y(18,16384,null,0,x.i,[t.I,t.F],{ngIf:[0,"ngIf"]},null),(l()(),t._18(-1,null,["\n\n          "])),(l()(),t.Z(20,0,null,null,5,"button",[["color","danger"],["ion-button",""]],null,[[null,"click"]],function(l,n,u){var t=!0;"click"===n&&(t=!1!==l.component.utils.compartilharDoc(l.context.$implicit)&&t);return t},j.b,j.a)),t.Y(21,1097728,null,0,P.a,[[8,""],A.a,t.j,t.z],{color:[0,"color"]},null),(l()(),t._18(-1,0,["\n            "])),(l()(),t.Z(23,0,null,0,1,"ion-icon",[["name","md-share"],["role","img"]],[[2,"hide",null]],null,null,null,null)),t.Y(24,147456,null,0,O.a,[A.a,t.j,t.z],{name:[0,"name"]},null),(l()(),t._18(-1,0,["\n            Compartilhar\n          "])),(l()(),t._18(-1,null,["\n        "])),(l()(),t._18(-1,null,["\n      "]))],function(l,n){var u=n.component;l(n,6,0,u.tipo==u.utils.CAMPUSJOURNAL),l(n,9,0,u.tipo==u.utils.AUDIOVISUAL);l(n,12,0,"right"),l(n,15,0,u.logged),l(n,18,0,u.logged);l(n,21,0,"danger");l(n,24,0,"md-share")},function(l,n){l(n,23,0,t._13(n,24)._hidden)})}function dl(l){return t._19(0,[(l()(),t.Z(0,0,null,null,13,"ion-list",[["class","doc-list"]],null,null,null,null,null)),t.Y(1,16384,null,0,y.a,[A.a,t.j,t.z,R.a,w.l,M.a],null,null),(l()(),t._18(-1,null,["\n\n      "])),(l()(),t.Z(3,0,null,null,6,"ion-list-header",[["class","item"]],null,null,null,k.b,k.a)),t.Y(4,1097728,null,3,L.a,[C.a,A.a,t.j,t.z,[2,z.a]],null,null),t._16(335544320,1,{contentLabel:0}),t._16(603979776,2,{_buttons:1}),t._16(603979776,3,{_icons:1}),t.Y(8,16384,null,0,B.a,[A.a,t.z,t.j,[8,null]],null,null),(l()(),t._18(9,2,["\n        ","\n      "])),(l()(),t._18(-1,null,["\n      "])),(l()(),t.U(16777216,null,null,1,null,hl)),t.Y(12,802816,null,0,x.h,[t.I,t.F,t.p],{ngForOf:[0,"ngForOf"]},null),(l()(),t._18(-1,null,["\n\n  "]))],function(l,n){l(n,12,0,n.context.$implicit.docs)},function(l,n){l(n,9,0,n.context.$implicit.categoria)})}function pl(l){return t._19(0,[(l()(),t._18(-1,null,["\n"])),(l()(),t.Z(1,0,null,null,37,"ion-content",[],[[8,"className",0],[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,J.b,J.a)),t.Y(2,4374528,null,0,N.a,[A.a,R.a,M.a,t.j,t.z,T.a,V.a,t.u,[2,E.a],[2,W.a]],null,null),(l()(),t._18(-1,1,["\n\n  "])),(l()(),t.Z(4,0,null,1,23,"div",[["class","header-bar"],["id","dynamicHeader"]],null,null,null,null,null)),(l()(),t._18(-1,null,["\n    "])),(l()(),t.Z(6,0,null,null,5,"button",[["clear",""],["color","dark"],["icon-only",""],["ion-button",""]],null,[[null,"click"]],function(l,n,u){var t=!0;"click"===n&&(t=!1!==l.component.voltar()&&t);return t},j.b,j.a)),t.Y(7,1097728,null,0,P.a,[[8,""],A.a,t.j,t.z],{color:[0,"color"],clear:[1,"clear"]},null),(l()(),t._18(-1,0,["\n      "])),(l()(),t.Z(9,0,null,0,1,"ion-icon",[["name","arrow-back"],["role","img"]],[[2,"hide",null]],null,null,null,null)),t.Y(10,147456,null,0,O.a,[A.a,t.j,t.z],{name:[0,"name"]},null),(l()(),t._18(-1,0,["\n    "])),(l()(),t._18(-1,null,["\n    "])),(l()(),t.U(16777216,null,null,1,null,il)),t.Y(14,16384,null,0,x.i,[t.I,t.F],{ngIf:[0,"ngIf"]},null),(l()(),t._18(-1,null,["\n    "])),(l()(),t.U(16777216,null,null,1,null,al)),t.Y(17,16384,null,0,x.i,[t.I,t.F],{ngIf:[0,"ngIf"]},null),(l()(),t._18(-1,null,["\n\n    "])),(l()(),t.Z(19,0,null,null,5,"button",[["class","right-button"],["clear",""],["color","dark"],["disabled",""],["icon-only",""],["ion-button",""]],null,[[null,"click"]],function(l,n,u){var t=!0;"click"===n&&(t=!1!==l.component.presentRadioPopover(u)&&t);return t},j.b,j.a)),t.Y(20,1097728,null,0,P.a,[[8,""],A.a,t.j,t.z],{color:[0,"color"],clear:[1,"clear"]},null),(l()(),t._18(-1,0,["\n      "])),(l()(),t.Z(22,0,null,0,1,"ion-icon",[["name","md-funnel"],["role","img"]],[[2,"hide",null]],null,null,null,null)),t.Y(23,147456,null,0,O.a,[A.a,t.j,t.z],{name:[0,"name"]},null),(l()(),t._18(-1,0,["\n    "])),(l()(),t._18(-1,null,["\n\n    "])),(l()(),t.Z(26,0,null,null,0,"hr",[],null,null,null,null,null)),(l()(),t._18(-1,null,["\n  "])),(l()(),t._18(-1,1,["\n\n  "])),(l()(),t._18(-1,1,["\n  "])),(l()(),t._18(-1,1,["\n\n  "])),(l()(),t.Z(31,0,null,1,1,"ion-searchbar",[["class","searchbar"],["placeholder","Buscar Resultados"]],[[2,"searchbar-animated",null],[2,"searchbar-has-value",null],[2,"searchbar-active",null],[2,"searchbar-show-cancel",null],[2,"searchbar-left-aligned",null],[2,"searchbar-has-focus",null]],[[null,"ionInput"]],function(l,n,u){var t=!0;"ionInput"===n&&(t=!1!==l.component.filtrarEntidades(u)&&t);return t},H.b,H.a)),t.Y(32,1294336,null,0,X.a,[A.a,R.a,t.j,t.z,[2,q.i]],{placeholder:[0,"placeholder"]},{ionInput:"ionInput"}),(l()(),t._18(-1,1,["\n\n  "])),(l()(),t._18(-1,1,["\n\n  "])),(l()(),t.U(16777216,null,1,1,null,dl)),t.Y(36,802816,null,0,x.h,[t.I,t.F,t.p],{ngForOf:[0,"ngForOf"]},null),(l()(),t._18(-1,1,["\n\n  "])),(l()(),t._18(-1,1,["\n\n"])),(l()(),t._18(-1,null,["\n"]))],function(l,n){var u=n.component;l(n,7,0,"dark","");l(n,10,0,"arrow-back"),l(n,14,0,u.plt.is("ios")),l(n,17,0,!u.plt.is("ios"));l(n,20,0,"dark","");l(n,23,0,"md-funnel");l(n,32,0,"Buscar Resultados"),l(n,36,0,u.docs)},function(l,n){l(n,1,0,t._2(1,"",n.component.utils.filterHeight(),""),t._13(n,2).statusbarPadding,t._13(n,2)._hasRefresher),l(n,9,0,t._13(n,10)._hidden),l(n,22,0,t._13(n,23)._hidden),l(n,31,0,t._13(n,32)._animated,t._13(n,32)._value,t._13(n,32)._isActive,t._13(n,32)._showCancelButton,t._13(n,32)._shouldAlignLeft,t._13(n,32)._isFocus)})}var ml=t.V("page-doc-list",s,function(l){return t._19(0,[(l()(),t.Z(0,0,null,null,1,"page-doc-list",[],null,null,null,pl,tl)),t.Y(1,49152,null,0,s,[W.a,G.a,a.a,K.a,Q.a,i.a,ll.a,nl.a,R.a,o.b,ul.a],null,null)],null,null)},{},{},[]),fl=u(150),gl=u(56);u.d(n,"DocListPageModuleNgFactory",function(){return bl});var bl=t.W(r,[],function(l){return t._10([t._11(512,t.i,t.S,[[8,[c.a,_.a,h.a,d.a,p.a,m.a,f.a,g.a,b.a,ml]],[3,t.i],t.s]),t._11(4608,x.k,x.j,[t.r,[2,x.s]]),t._11(4608,q.r,q.r,[]),t._11(4608,q.d,q.d,[]),t._11(512,x.b,x.b,[]),t._11(512,q.p,q.p,[]),t._11(512,q.e,q.e,[]),t._11(512,q.n,q.n,[]),t._11(512,fl.a,fl.a,[]),t._11(512,fl.b,fl.b,[]),t._11(512,r,r,[]),t._11(256,gl.a,s,[])])})}});